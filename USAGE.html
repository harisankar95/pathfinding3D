<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Examples &mdash; pathfinding3d 0.6.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=4d8c61bb" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=4c124ac1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Version History" href="CHANGELOG.html" />
    <link rel="prev" title="Installation" href="INSTALL.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="index.html" class="icon icon-home">
            pathfinding3d
          </a>
              <div class="version">
                0.6.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="INTRO.html">Pathfinding3D</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INTRO.html#introduction">Introduction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#pypi">PyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#for-development-purposes-please-use-editable-mode">For development purposes please use editable mode</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#steps-portals-bridges">Steps/Portals/Bridges</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#toy-example-connecting-two-building-storeys-with-a-bridge">Toy Example: Connecting Two Building Storeys with a Bridge</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-the-path">Visualizing the Path</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-with-open3d">Example with Open3D</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example-with-any-angle-of-movement">Example with any angle of movement</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id1">0.6.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id2">0.6.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id3">0.5.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id4">0.5.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id5">0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id6">0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id7">0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id8">0.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id9">0.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id10">0.1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pathfinding3d</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pathfinding3d.html">pathfinding3d package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pathfinding3d.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pathfinding3d.core.html">pathfinding3d.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pathfinding3d.finder.html">pathfinding3d.finder package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pathfinding3d</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Examples</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h1>
<p>For usage examples with detailed descriptions take a look at the <a class="reference external" href="https://github.com/harisankar95/pathfinding3D/tree/main/examples/">examples</a> folder.</p>
<section id="basic-usage">
<h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this heading"></a></h2>
<p>A simple usage example to find a path using the A* algorithm in a 3D environment.</p>
<ol>
<li><p>Import the required libraries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pathfinding3d.core.diagonal_movement</span> <span class="kn">import</span> <span class="n">DiagonalMovement</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.core.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.finder.a_star</span> <span class="kn">import</span> <span class="n">AStarFinder</span>
</pre></div>
</div>
</li>
<li><p>Create a Map:</p>
<ul class="simple">
<li><p>Define a 3D grid using a numpy array. Any value smaller or equal to 0 represents an obstacle. Any positive value represents the weight of a field that can be walked on. The bigger the value higher the cost to walk that field. In this example, all walkable fields have the same cost of 1. Feel free to create a more complex map or use some sensor data as input for it.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the 3D grid as &#39;x, y, z&#39;</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Setting an obstacle at the center</span>
</pre></div>
</div>
<p>Note: You can use different positive values to represent varying costs of traversing different fields.</p>
</li>
<li><p>Create the Grid:</p>
<ul class="simple">
<li><p>Instantiate a Grid object from the map. This will create Node instances for every element of the map and also sets the size of the map.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Define Start and End Nodes:</p>
<ul class="simple">
<li><p>Determine the start and end nodes on the grid. Coordinates start at 0. The nodes can be accessed by their coordinates. The first parameter is the x coordinate, the second the y coordinate and the third the z coordinate. So the top left corner is (0, 0, 0) and the bottom right corner is (2, 2, 2).</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">start</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Instantiate the Pathfinding Finder:</p>
<ul class="simple">
<li><p>Create a new instance of <code class="docutils literal notranslate"><span class="pre">AStarFinder</span></code> and find the path. Here we allow diagonal movement which is not allowed by default. The <code class="docutils literal notranslate"><span class="pre">find_path</span></code> method returns the path and the number of iterations needed.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">finder</span> <span class="o">=</span> <span class="n">AStarFinder</span><span class="p">(</span><span class="n">diagonal_movement</span><span class="o">=</span><span class="n">DiagonalMovement</span><span class="o">.</span><span class="n">always</span><span class="p">)</span>
<span class="n">path</span><span class="p">,</span> <span class="n">runs</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">grid</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Output the Result:</p>
<ul class="simple">
<li><p>The path is a list with all the waypoints as nodes. Convert it to a list of coordinate tuples to pretty print it. Note that the start and end points are part of the path.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Path will be a list with all the waypoints as nodes</span>
<span class="c1"># Convert it to a list of coordinate tuples</span>
<span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">identifier</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">]</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;operations:&quot;</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="s2">&quot;path length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;path:&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>Here is the whole example which you can copy-and-paste to play with it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pathfinding3d.core.diagonal_movement</span> <span class="kn">import</span> <span class="n">DiagonalMovement</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.core.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.finder.a_star</span> <span class="kn">import</span> <span class="n">AStarFinder</span>

<span class="c1"># Define the 3D grid</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">)</span>

<span class="c1"># Define start and end nodes</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Instantiate the finder and find the path</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">AStarFinder</span><span class="p">(</span><span class="n">diagonal_movement</span><span class="o">=</span><span class="n">DiagonalMovement</span><span class="o">.</span><span class="n">always</span><span class="p">)</span>
<span class="n">path</span><span class="p">,</span> <span class="n">runs</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">grid</span><span class="p">)</span>

<span class="c1"># Path will be a list with all the waypoints as nodes</span>
<span class="c1"># Convert it to a list of coordinate tuples</span>
<span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">identifier</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">]</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;operations:&quot;</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="s2">&quot;path length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;path:&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="steps-portals-bridges">
<h2>Steps/Portals/Bridges<a class="headerlink" href="#steps-portals-bridges" title="Permalink to this heading"></a></h2>
<p>With <em>pathfinding3d</em>, you can seamlessly connect multiple grids. This feature is invaluable for simulating multi-story structures connected by staircases, bridges between different buildings, or even magical portals linking disparate locations.</p>
<section id="toy-example-connecting-two-building-storeys-with-a-bridge">
<h3>Toy Example: Connecting Two Building Storeys with a Bridge<a class="headerlink" href="#toy-example-connecting-two-building-storeys-with-a-bridge" title="Permalink to this heading"></a></h3>
<p>Let’s consider an example where we want to connect the second storey of two adjacent buildings with a bridge.</p>
<ol>
<li><p>Define the Grids for Each Building:</p>
<ul class="simple">
<li><p>Create two 3D grid arrays representing each building (’world0’ and ‘world1’).</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathfinding3d.core.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.core.world</span> <span class="kn">import</span> <span class="n">World</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.finder.a_star</span> <span class="kn">import</span> <span class="n">AStarFinder</span>

<span class="n">world0</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> 
          <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> 
          <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]</span>
<span class="n">world1</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> 
          <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> 
          <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]</span>
<span class="c1"># create Grid instances for both worlds</span>
<span class="n">grid0</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">world0</span><span class="p">,</span> <span class="n">grid_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">grid1</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">world1</span><span class="p">,</span> <span class="n">grid_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Connect Nodes Between Grids:</p>
<ul class="simple">
<li><p>Establish a two-way connection between nodes in different grids to simulate a bridge.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># connect the two worlds</span>
<span class="n">grid0</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">grid1</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">grid1</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">grid0</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>Note: Establish connections in both directions for bi-directional travel. For unidirectional connections, define only one link.</p>
</li>
<li><p>Using the <code class="docutils literal notranslate"><span class="pre">World</span></code> to Manage Multiple Grids:</p>
<ul class="simple">
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">World</span></code> object to manage both grids, allowing <code class="docutils literal notranslate"><span class="pre">find_neighbors</span></code> to access them during pathfinding.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a world instance</span>
<span class="n">world</span> <span class="o">=</span> <span class="n">World</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="n">grid0</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">grid1</span><span class="p">})</span>
</pre></div>
</div>
</li>
<li><p>Pathfinding Across Connected Grids:</p>
<ul class="simple">
<li><p>Utilize <code class="docutils literal notranslate"><span class="pre">AStarFinder</span></code> to find a path from a start node in the first grid to an end node in the second grid. This time we need to pass the <code class="docutils literal notranslate"><span class="pre">world</span></code> object to the <code class="docutils literal notranslate"><span class="pre">find_path</span></code> method.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="c1"># create a finder instance</span>
 <span class="n">finder</span> <span class="o">=</span> <span class="n">AStarFinder</span><span class="p">()</span>
 <span class="c1"># find the path</span>
 <span class="n">path</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">grid0</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">grid1</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">world</span><span class="p">)</span>
</pre></div>
</div>
<p>This will output a path traversing from one building to another, demonstrating the unique capability of connecting different 3D spaces.</p>
</li>
<li><p>Visualizing the Path:</p>
<ul class="simple">
<li><p>The path is a list of <code class="docutils literal notranslate"><span class="pre">Node</span></code> objects. We can convert the path to a list of tuples (x, y, z, grid_id) and separate the path into two lists of tuples (x, y, z) for each grid.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="c1"># convert the path to a list of tuples (x, y, z, grid_id)</span>
 <span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">identifier</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">]</span>
 <span class="c1"># separate the path into two lists of tuples (x, y, z)</span>
 <span class="n">path0</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span> <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
 <span class="n">path1</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span> <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
 <span class="c1"># print the paths</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;path through world 0:&quot;</span><span class="p">,</span> <span class="n">path0</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;path through world 1:&quot;</span><span class="p">,</span> <span class="n">path1</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>The output should look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="n">through</span> <span class="n">world</span> <span class="mi">0</span><span class="p">:</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="n">path</span> <span class="n">through</span> <span class="n">world</span> <span class="mi">1</span><span class="p">:</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
</pre></div>
</div>
<p>The path through world 0 starts at (2, 0, 0) and ends at (2, 2, 2). The path through world 1 starts at (2, 2, 2) and ends at (2, 0, 0). The two paths are connected by the bridge at (2, 2, 2).</p>
</li>
<li><p>Putting it all together:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathfinding3d.core.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.core.world</span> <span class="kn">import</span> <span class="n">World</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.finder.a_star</span> <span class="kn">import</span> <span class="n">AStarFinder</span>

<span class="n">world0</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]</span>
<span class="n">world1</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]</span>
<span class="c1"># create Grid instances for both worlds</span>
<span class="n">grid0</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">world0</span><span class="p">,</span> <span class="n">grid_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">grid1</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">world1</span><span class="p">,</span> <span class="n">grid_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># connect the two worlds</span>
<span class="n">grid0</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">grid1</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">grid1</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">grid0</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1"># create a world instance</span>
<span class="n">world</span> <span class="o">=</span> <span class="n">World</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="n">grid0</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">grid1</span><span class="p">})</span>

<span class="c1"># create a finder instance</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">AStarFinder</span><span class="p">()</span>
<span class="c1"># find the path</span>
<span class="n">path</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">grid0</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">grid1</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">world</span><span class="p">)</span>

<span class="c1"># convert the path to a list of tuples (x, y, z, grid_id)</span>
<span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">identifier</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">]</span>
<span class="c1"># separate the path into two lists of tuples (x, y, z)</span>
<span class="n">path0</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span> <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">path1</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span> <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="c1"># print the paths</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;path through world 0:&quot;</span><span class="p">,</span> <span class="n">path0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;path through world 1:&quot;</span><span class="p">,</span> <span class="n">path1</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="visualizing-the-path">
<h2>Visualizing the Path<a class="headerlink" href="#visualizing-the-path" title="Permalink to this heading"></a></h2>
<p>Sometimes it is helpful to visualize the path to better understand the algorithm. Here is a simple example using the <code class="docutils literal notranslate"><span class="pre">open3d</span></code> library for this purpose.</p>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h3>
<ul>
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">open3d</span></code> library:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>open3d
</pre></div>
</div>
</li>
</ul>
</section>
<section id="example-with-open3d">
<h3>Example with Open3D<a class="headerlink" href="#example-with-open3d" title="Permalink to this heading"></a></h3>
<ol>
<li><p>Import the required libraries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">open3d</span> <span class="k">as</span> <span class="nn">o3d</span>

<span class="kn">from</span> <span class="nn">pathfinding3d.core.diagonal_movement</span> <span class="kn">import</span> <span class="n">DiagonalMovement</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.core.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.finder.a_star</span> <span class="kn">import</span> <span class="n">AStarFinder</span>
</pre></div>
</div>
</li>
<li><p>Load the sample map:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the map</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;sample_map.npy&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sample_map.npy</span></code> is a numpy array of shape (42, 42, 42), where each element indicates an obstacle or free space. This file can be downloaded from the provided <a class="reference external" href="https://github.com/harisankar95/pathfinding3D/blob/main/examples/sample_map.npy">Github link</a>.</p>
</li>
<li><p>Create the Grid and define the start and end nodes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># define start and end points as [x, y, z] coordinates</span>
<span class="n">start_pt</span> <span class="o">=</span> <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">21</span><span class="p">]</span>
<span class="n">end_pt</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">33</span><span class="p">]</span>

<span class="c1"># create grid representation and start and end nodes</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">)</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="o">*</span><span class="n">start_pt</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="o">*</span><span class="n">end_pt</span><span class="p">)</span>
</pre></div>
</div>
<p>Note: The <code class="docutils literal notranslate"><span class="pre">*</span></code> operator unpacks the list into individual arguments.
Here, we define the start and end points of our path and create a grid representation of our 3D space.</p>
</li>
<li><p>Find the path:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># initialize A* finder with specified diagonal movement setting</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">AStarFinder</span><span class="p">(</span><span class="n">diagonal_movement</span><span class="o">=</span><span class="n">DiagonalMovement</span><span class="o">.</span><span class="n">only_when_no_obstacle</span><span class="p">)</span>

<span class="c1"># use the finder to get the path</span>
<span class="n">path</span><span class="p">,</span> <span class="n">runs</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">grid</span><span class="p">)</span>

<span class="c1"># print results</span>
<span class="n">path_cost</span> <span class="o">=</span> <span class="n">end</span><span class="o">.</span><span class="n">g</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;path cost: </span><span class="si">{</span><span class="n">path_cost</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">, path length: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="si">}</span><span class="s2">, runs: </span><span class="si">{</span><span class="n">runs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>path<span class="w"> </span>cost:<span class="w"> </span><span class="m">28</span>.6130,<span class="w"> </span>path<span class="w"> </span>length:<span class="w"> </span><span class="m">20</span>,<span class="w"> </span>runs:<span class="w"> </span><span class="m">458</span>
</pre></div>
</div>
<p>The path cost can be accessed from the <code class="docutils literal notranslate"><span class="pre">end</span></code> node’s <code class="docutils literal notranslate"><span class="pre">g</span></code> attribute for A*.</p>
</li>
<li><p>Visualize the path:</p>
<ul>
<li><p>Find the obstacles and represent them in blue. The <code class="docutils literal notranslate"><span class="pre">colors</span></code> array is a numpy array of shape (n, 3) where n is the number of obstacles. The first column represents the red channel, the second column represents the green channel, and the third column represents the blue channel. The <code class="docutils literal notranslate"><span class="pre">xyz_pt</span></code> array is a numpy array of shape (n, 3) where n is the number of obstacles. The first column represents the x coordinate, the second column represents the y coordinate, and the third column represents the z coordinate. The <code class="docutils literal notranslate"><span class="pre">xyz_pt</span></code> array is used to create a <code class="docutils literal notranslate"><span class="pre">PointCloud</span></code> object which is then visualized using <code class="docutils literal notranslate"><span class="pre">draw_geometries</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Identifying obstacles and representing them in blue</span>
<span class="n">obstacle_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">matrix</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xyz_pt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">obstacle_indices</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">xyz_pt</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">colors</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">obstacle_indices</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">obstacle_indices</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>The start point is represented in red and the end point is represented in green. The path is represented in grey. <code class="docutils literal notranslate"><span class="pre">path_colors</span></code> is a numpy array of shape (len(path) - 2, 3) where len(path) is the number of waypoints in the path. Since we already have the start and end points which are also part of the path, we subtract 2 from the length of the path to get the number of remaining waypoints.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prepare start and end colors</span>
<span class="n">start_color</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>  <span class="c1"># Red</span>
<span class="n">end_color</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>  <span class="c1"># Green</span>
<span class="n">path_colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>  <span class="c1"># Grey for the path</span>
</pre></div>
</div>
</li>
<li><p>Now we can add the start and end points to the <code class="docutils literal notranslate"><span class="pre">xyz_pt</span></code> array along with the remaining waypoints in the path. Similarly the colors can be added to the <code class="docutils literal notranslate"><span class="pre">colors</span></code> array. For every point in the <code class="docutils literal notranslate"><span class="pre">xyz_pt</span></code> array, there is a corresponding color in the <code class="docutils literal notranslate"><span class="pre">colors</span></code> array.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Combine points and colors for visualization</span>
<span class="n">xyz_pt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">xyz_pt</span><span class="p">,</span> <span class="p">[</span><span class="n">start_pt</span><span class="p">],</span> <span class="p">[</span><span class="n">end_pt</span><span class="p">],</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">colors</span><span class="p">,</span> <span class="n">start_color</span><span class="p">,</span> <span class="n">end_color</span><span class="p">,</span> <span class="n">path_colors</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">PointCloud</span></code> object with the <code class="docutils literal notranslate"><span class="pre">xyz_pt</span></code> and <code class="docutils literal notranslate"><span class="pre">colors</span></code> arrays.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the point cloud</span>
<span class="n">pcd</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">PointCloud</span><span class="p">()</span>
<span class="n">pcd</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">utility</span><span class="o">.</span><span class="n">Vector3dVector</span><span class="p">(</span><span class="n">xyz_pt</span><span class="p">)</span>
<span class="n">pcd</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">utility</span><span class="o">.</span><span class="n">Vector3dVector</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">VoxelGrid</span></code> object from the <code class="docutils literal notranslate"><span class="pre">PointCloud</span></code> object. This will generate a voxel grid from the point cloud. The <code class="docutils literal notranslate"><span class="pre">voxel_size</span></code> parameter determines the size of the voxels.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the voxel grid from the point cloud</span>
<span class="n">voxel_grid</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">VoxelGrid</span><span class="o">.</span><span class="n">create_from_point_cloud</span><span class="p">(</span><span class="n">pcd</span><span class="p">,</span> <span class="n">voxel_size</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">TriangleMesh</span><span class="o">.</span><span class="n">create_coordinate_frame</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mf">15.0</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">3.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="p">]))</span>
</pre></div>
</div>
<p>The axes is for reference and can be removed if not needed.</p>
</li>
<li><p>Visualize the voxel grid. The <code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code> parameters determine the size of the window.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualize the voxel grid</span>
<span class="n">o3d</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">draw_geometries</span><span class="p">([</span><span class="n">axes</span><span class="p">,</span> <span class="n">voxel_grid</span><span class="p">],</span> <span class="n">window_name</span><span class="o">=</span><span class="s2">&quot;Voxel Env&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">768</span><span class="p">)</span>
</pre></div>
</div>
<p>You can rotate the voxel grid by clicking and dragging the mouse. You can also zoom in and out using the mouse wheel.</p>
</li>
<li><p>The output should look like this:</p>
<p><img alt="voxel_grid" src="https://raw.githubusercontent.com/harisankar95/pathfinding3D/main/examples/resources/open3d.png" /></p>
</li>
</ul>
</li>
</ol>
<p>The full code is available here: <a class="reference external" href="https://github.com/harisankar95/pathfinding3D/blob/main/examples/03_view_map.py">03_view_map</a></p>
</section>
</section>
<hr class="docutils" />
<section id="example-with-any-angle-of-movement">
<h2>Example with any angle of movement<a class="headerlink" href="#example-with-any-angle-of-movement" title="Permalink to this heading"></a></h2>
<p>Often, it is desirable to allow movement in any direction rather than being restricted to the 26 discrete directions in a 3D grid. This can be achieved by using the <code class="docutils literal notranslate"><span class="pre">ThetaStarFinder</span></code> class. The <code class="docutils literal notranslate"><span class="pre">ThetaStarFinder</span></code> class is a subclass of the <code class="docutils literal notranslate"><span class="pre">AStarFinder</span></code> class and can be used in the same way.</p>
<p>Let’s cut to the chase and see how it works:</p>
<ol>
<li><p>As usual, import the required libraries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pathfinding3d.core.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.finder.theta_star</span> <span class="kn">import</span> <span class="n">ThetaStarFinder</span>
</pre></div>
</div>
</li>
<li><p>For this example, we will use a simple 3D grid with a single obstacle in the middle. The start point is at the bottom left corner and the end point is at the top right corner.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the 3D grid </span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Setting an obstacle at the center</span>

<span class="c1"># Create the grid representation</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">)</span>

<span class="c1"># Define start and end points</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># Bottom left corner</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="c1"># Top right corner</span>
</pre></div>
</div>
</li>
<li><p>Instantiate the <code class="docutils literal notranslate"><span class="pre">ThetaStarFinder</span></code> class and find the path:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Instantiate the finder</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">ThetaStarFinder</span><span class="p">()</span>
<span class="n">path</span><span class="p">,</span> <span class="n">runs</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">grid</span><span class="p">)</span>
<span class="c1"># Convert the path to a list of coordinate tuples</span>
<span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">identifier</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">]</span>
</pre></div>
</div>
<p>Note: The <code class="docutils literal notranslate"><span class="pre">ThetaStarFinder</span></code> will always have diagonal movements enabled.</p>
</li>
<li><p>Output the results:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;operations:&quot;</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="s2">&quot;path length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;path:&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>This will output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>operations:<span class="w"> </span><span class="m">12</span><span class="w"> </span>path<span class="w"> </span>length:<span class="w"> </span><span class="m">3</span>
path:<span class="w"> </span><span class="o">[(</span><span class="m">0</span>,<span class="w"> </span><span class="m">0</span>,<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">9</span>,<span class="w"> </span><span class="m">8</span>,<span class="w"> </span><span class="m">8</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">9</span>,<span class="w"> </span><span class="m">9</span>,<span class="w"> </span><span class="m">9</span><span class="o">)]</span>
</pre></div>
</div>
<p>You will notice that the path does not have all the waypoints as other algorithms. This is because the <code class="docutils literal notranslate"><span class="pre">ThetaStarFinder</span></code> algorithm will smooth the path by checking whether there is a direct path between two waypoints (<strong>Line of Sight</strong>). If there is a direct path, the intermediate waypoints are removed. This is useful for applications where the path needs to be traversed by a vehicle. The vehicle can move in any direction and does not need to follow a grid. The path can be smoothed to reduce the number of waypoints to be traversed.</p>
</li>
<li><p>For a quantitative analysis let’s compare the number of waypoints in the path for the <code class="docutils literal notranslate"><span class="pre">AStarFinder</span></code> and <code class="docutils literal notranslate"><span class="pre">ThetaStarFinder</span></code> algorithms:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathfinding3d.finder.a_star</span> <span class="kn">import</span> <span class="n">AStarFinder</span>

<span class="c1"># Instantiate the finder</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">AStarFinder</span><span class="p">()</span>
<span class="c1"># Cleanup the grid</span>
<span class="n">grid</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
<span class="c1"># Find the path using AStarFinder</span>
<span class="n">astar_path</span><span class="p">,</span> <span class="n">runs</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">grid</span><span class="p">)</span>
<span class="c1"># Convert the path to a list of coordinate tuples</span>
<span class="n">astar_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">identifier</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">astar_path</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AStarFinder operations:&quot;</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="s2">&quot;AStarFinder path length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AStarFinder path:&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>This will output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>AStarFinder<span class="w"> </span>operations:<span class="w"> </span><span class="m">52</span><span class="w"> </span>AStarFinder<span class="w"> </span>path<span class="w"> </span>length:<span class="w"> </span><span class="m">11</span>
AStarFinder<span class="w"> </span>path:<span class="w"> </span><span class="o">[(</span><span class="m">0</span>,<span class="w"> </span><span class="m">0</span>,<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">1</span>,<span class="w"> </span><span class="m">1</span>,<span class="w"> </span><span class="m">1</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">2</span>,<span class="w"> </span><span class="m">2</span>,<span class="w"> </span><span class="m">2</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">3</span>,<span class="w"> </span><span class="m">3</span>,<span class="w"> </span><span class="m">3</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">4</span>,<span class="w"> </span><span class="m">4</span>,<span class="w"> </span><span class="m">4</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">5</span>,<span class="w"> </span><span class="m">4</span>,<span class="w"> </span><span class="m">4</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">6</span>,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="m">5</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">7</span>,<span class="w"> </span><span class="m">6</span>,<span class="w"> </span><span class="m">6</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">8</span>,<span class="w"> </span><span class="m">7</span>,<span class="w"> </span><span class="m">7</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">9</span>,<span class="w"> </span><span class="m">8</span>,<span class="w"> </span><span class="m">8</span><span class="o">)</span>,<span class="w"> </span><span class="o">(</span><span class="m">9</span>,<span class="w"> </span><span class="m">9</span>,<span class="w"> </span><span class="m">9</span><span class="o">)]</span>
</pre></div>
</div>
</li>
<li><p>As you can see, the <code class="docutils literal notranslate"><span class="pre">AStarFinder</span></code> algorithm has 11 waypoints in the path. Let’s compare the cost of the path for both algorithms:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function to calculate the cost of the path</span>
<span class="k">def</span> <span class="nf">calculate_path_cost</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="n">cost</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">pt</span><span class="p">,</span> <span class="n">pt_next</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">path</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
        <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dz</span> <span class="o">=</span> <span class="n">pt_next</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pt_next</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">pt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">pt_next</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">pt</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">cost</span> <span class="o">+=</span> <span class="p">(</span><span class="n">dx</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">dy</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">dz</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>
    <span class="k">return</span> <span class="n">cost</span>

<span class="c1"># Calculate the cost of the path for ThetaStarFinder</span>
<span class="n">theta_star_cost</span> <span class="o">=</span> <span class="n">calculate_path_cost</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="c1"># Calculate the cost of the path for AStarFinder</span>
<span class="n">astar_cost</span> <span class="o">=</span> <span class="n">calculate_path_cost</span><span class="p">(</span><span class="n">astar_path</span><span class="p">)</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ThetaStarFinder path cost:&quot;</span><span class="p">,</span> <span class="n">theta_star_cost</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AStarFinder path cost:&quot;</span><span class="p">,</span> <span class="n">astar_cost</span><span class="p">)</span>
</pre></div>
</div>
<p>This will output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ThetaStarFinder<span class="w"> </span>path<span class="w"> </span>cost:<span class="w"> </span><span class="m">15</span>.871045857174057
AStarFinder<span class="w"> </span>path<span class="w"> </span>cost:<span class="w"> </span><span class="m">16</span>.27062002292411
</pre></div>
</div>
<p>As you can see, the <code class="docutils literal notranslate"><span class="pre">ThetaStarFinder</span></code> algorithm has a lower cost than the <code class="docutils literal notranslate"><span class="pre">AStarFinder</span></code> algorithm. Thus the <code class="docutils literal notranslate"><span class="pre">ThetaStarFinder</span></code> algorithm can be more efficient for applications with any angle of movement.</p>
</li>
<li><p>We can visualize the paths using <code class="docutils literal notranslate"><span class="pre">plotly</span></code> this time:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="c1"># Create a plotly figure to visualize the path</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">[</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter3d</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">path</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">pt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">path</span><span class="p">],</span>
            <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="n">pt</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">path</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines + markers&quot;</span><span class="p">,</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Theta* path&quot;</span><span class="p">,</span>
            <span class="n">hovertext</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Theta* path point&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter3d</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">astar_path</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">pt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">astar_path</span><span class="p">],</span>
            <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="n">pt</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">astar_path</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines + markers&quot;</span><span class="p">,</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;A* path&quot;</span><span class="p">,</span>
            <span class="n">hovertext</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A* path point&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">astar_path</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter3d</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mf">5.5</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mf">5.5</span><span class="p">],</span>
            <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="mf">5.5</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">7.5</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Obstacle&quot;</span><span class="p">,</span>
            <span class="n">hovertext</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Obstacle point&quot;</span><span class="p">],</span>
        <span class="p">),</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter3d</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">],</span>
            <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">7.5</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span>
            <span class="n">hovertext</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Start point&quot;</span><span class="p">],</span>
        <span class="p">),</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter3d</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mf">9.5</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mf">9.5</span><span class="p">],</span>
            <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="mf">9.5</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">7.5</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;End&quot;</span><span class="p">,</span>
            <span class="n">hovertext</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;End point&quot;</span><span class="p">],</span>
        <span class="p">),</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Define the camera position</span>
<span class="n">camera</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;up&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
    <span class="s2">&quot;center&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">0.1479269806756467</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">0.06501594452841505</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.0907033779622012</span><span class="p">},</span>
    <span class="s2">&quot;eye&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1.3097359159706334</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">0.4710974884501846</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mf">2.095154166796815</span><span class="p">},</span>
    <span class="s2">&quot;projection&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;perspective&quot;</span><span class="p">},</span>
<span class="p">}</span>

<span class="c1"># Update the layout of the figure</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">scene</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;x - axis&quot;</span><span class="p">,</span>
            <span class="n">backgroundcolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
            <span class="n">gridcolor</span><span class="o">=</span><span class="s2">&quot;lightgrey&quot;</span><span class="p">,</span>
            <span class="n">showbackground</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">zerolinecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
            <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
            <span class="n">dtick</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;y - axis&quot;</span><span class="p">,</span>
            <span class="n">backgroundcolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
            <span class="n">gridcolor</span><span class="o">=</span><span class="s2">&quot;lightgrey&quot;</span><span class="p">,</span>
            <span class="n">showbackground</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">zerolinecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
            <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
            <span class="n">dtick</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">zaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;z - axis&quot;</span><span class="p">,</span>
            <span class="n">backgroundcolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
            <span class="n">gridcolor</span><span class="o">=</span><span class="s2">&quot;lightgrey&quot;</span><span class="p">,</span>
            <span class="n">showbackground</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">zerolinecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
            <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
            <span class="n">dtick</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>
    <span class="n">legend</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">yanchor</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="mf">0.99</span><span class="p">,</span>
        <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
        <span class="n">bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(255, 255, 255, 0.7)&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">title</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Theta* vs A*&quot;</span><span class="p">),</span>
    <span class="n">scene_camera</span><span class="o">=</span><span class="n">camera</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Show the figure in a new tab</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>This will open a new tab in your browser with the following visualization:</p>
 <style>
     iframe {
         width: 100%;
         height: 600px;
         background-color: #B6C8DB; /* Light blue background */
         border: 2px solid #6DB59F; /* Green border */
         border-radius: 15px;
         box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
         opacity: 0.9;
         margin: 20px;
         padding: 10px;
     }
 </style> <iframe src="theta_star.html"></iframe><p>You can rotate the figure by clicking and dragging the mouse. You can also zoom in and out using the mouse wheel.</p>
</li>
</ol>
<p>The full code is available here: <a class="reference external" href="https://github.com/harisankar95/pathfinding3D/blob/main/examples/04_theta_star.py">04_theta_star</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="INSTALL.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CHANGELOG.html" class="btn btn-neutral float-right" title="Version History" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Harisankar Babu.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>