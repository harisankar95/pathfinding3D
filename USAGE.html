<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Examples &mdash; pathfinding3d 0.4.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=4d8c61bb" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=0d51e2b1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script src="_static/js/versionwarning.js?v=d4224a34"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Version History" href="CHANGELOG.html" />
    <link rel="prev" title="Installation" href="INSTALL.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="index.html" class="icon icon-home">
            pathfinding3d
          </a>
              <div class="version">
                0.4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="INTRO.html">Pathfinding3D</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INTRO.html#introduction">Introduction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#pypi">PyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#for-development-purpose-use-editable-mode">For development purpose use editable mode</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id1">0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id2">0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id3">0.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id4">0.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html#id5">0.1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pathfinding3d</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pathfinding3d.html">pathfinding3d package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pathfinding3d.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pathfinding3d.core.html">pathfinding3d.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pathfinding3d.finder.html">pathfinding3d.finder package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pathfinding3d</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Examples</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h1>
<p>For usage examples with detailed descriptions take a look at the <a class="reference external" href="https://github.com/harisankar95/pathfinding3D/tree/main/examples/">examples</a> folder, also take a look at the <a class="reference external" href="https://github.com/harisankar95/pathfinding3D/tree/main/test/">test/</a> folder for more examples.</p>
<section id="basic-usage">
<h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this heading"></a></h2>
<p>A simple usage example to find a path using A*.</p>
<ol>
<li><p>import the required libraries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pathfinding3d.core.diagonal_movement</span> <span class="kn">import</span> <span class="n">DiagonalMovement</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.core.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.core.node</span> <span class="kn">import</span> <span class="n">GridNode</span>
<span class="kn">from</span> <span class="nn">pathfinding3d.finder.a_star</span> <span class="kn">import</span> <span class="n">AStarFinder</span>
</pre></div>
</div>
</li>
<li><p>Create a map using a 2D-list. Any value smaller or equal to 0 describes an obstacle. Any number bigger than 0 describes the weight of a field that can be walked on. The bigger the number the higher the cost to walk that field. We ignore the weight for now, all fields have the same cost of 1. Feel free to create a more complex map or use some sensor data as input for it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># is of style &#39;x, y, z&#39;</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</li>
</ol>
<p>Note: you can use negative values to describe different types of obstacles. It does not make a difference for the path finding algorithm but it might be useful for your later map evaluation.</p>
<ol>
<li><p>we create a new grid from this map representation. This will create Node instances for every element of our map. It will also set the size of the map. We assume that your map is a square, so the size width is defined by the length of the outer list, the height by the length of the inner lists, and the depth by the length of the innermost lists.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>we get the start and end node from the grid. We assume that the start is at the top left corner and the end at the bottom right corner. You can access the nodes by their coordinates. The first parameter is the x coordinate, the second the y coordinate and the third the z coordinate. The coordinates start at 0. So the top left corner is (0, 0, 0) and the bottom right corner is (2, 2, 2).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">start</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>create a new instance of our finder and let it do its work. We allow diagonal movement. The <code class="docutils literal notranslate"><span class="pre">find_path</span></code> function does not only return you the path from the start to the end point it also returns the number of times the algorithm needed to be called until a way was found.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">finder</span> <span class="o">=</span> <span class="n">AStarFinder</span><span class="p">(</span><span class="n">diagonal_movement</span><span class="o">=</span><span class="n">DiagonalMovement</span><span class="o">.</span><span class="n">always</span><span class="p">)</span>
<span class="n">path</span><span class="p">,</span> <span class="n">runs</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">grid</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>thats it. We found a way. Now we can print the result (or do something else with it). Note that the start and end points are part of the path.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;operations:&#39;</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="s1">&#39;path length:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;path:&#39;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>Here is the whole example if you just want to copy-and-paste the code and play with it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>  <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

  <span class="kn">from</span> <span class="nn">pathfinding3d.core.diagonal_movement</span> <span class="kn">import</span> <span class="n">DiagonalMovement</span>
  <span class="kn">from</span> <span class="nn">pathfinding3d.core.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
  <span class="kn">from</span> <span class="nn">pathfinding3d.core.node</span> <span class="kn">import</span> <span class="n">GridNode</span>
  <span class="kn">from</span> <span class="nn">pathfinding3d.finder.a_star</span> <span class="kn">import</span> <span class="n">AStarFinder</span>


  <span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
  <span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">)</span>

  <span class="n">start</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
  <span class="n">end</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

  <span class="n">finder</span> <span class="o">=</span> <span class="n">AStarFinder</span><span class="p">(</span><span class="n">diagonal_movement</span><span class="o">=</span><span class="n">DiagonalMovement</span><span class="o">.</span><span class="n">always</span><span class="p">)</span>
  <span class="n">path_</span><span class="p">,</span> <span class="n">runs</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">find_path</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">grid</span><span class="p">)</span>

  <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
  <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
  <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>

  <span class="n">path</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">path_</span><span class="p">:</span>
      <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">GridNode</span><span class="p">):</span>
        <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">node</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
      <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
  
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;operations:&#39;</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="s1">&#39;path length:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;path:&#39;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="INSTALL.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CHANGELOG.html" class="btn btn-neutral float-right" title="Version History" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Harisankar Babu.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>